(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t,a){e.exports=a(268)},268:function(e,t,a){"use strict";a.r(t);a(135);var n=a(0),s=a.n(n),r=a(53),o=a.n(r),l=a(6),i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function c(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(l.toast.warn("An update is available; please refresh the page to load it.",{autoClose:!1,className:"toast-update",bodyClassName:"toast-update-body",progressClassName:"toast-update-progress"}),console.log("An update is available; please refresh the page to load it.")):(l.toast.success("Langua has been successfully cached. You can now use it offline.",{autoClose:5e3,className:"toast-cached",bodyClassName:"toast-cached-body",progressClassName:"toast-cached-progress"}),console.log("Langua has been successfully cached. You can now use it offline.")))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var u=a(272),d=a(2),m=a.n(d),h=a(57),p=a.n(h),g=function(e){return e.rotate(180)},f=function(e){return e.hue()>20&&e.hue()<190},b=function(e){return e.hue()>30&&e.hue()<90},v=function(e,t){return(a=e).hue()<310&&a.hue()>140?f(t)?t.mix(e,.11):t.mix(e,.16):f(t)?t.mix(e,.13):t.mix(e,.23);var a},y=function(e){return b(e)?f(e)?e.mix(g(e),.19):e.mix(g(e),.13):f(e)?f(g(e))?e.mix(g(e),.31):e.mix(g(e),.23):b(g(e))?e.mix(g(e),.31):f(g(e))?e.mix(g(e),.26):e.mix(g(e),.23)},E='"Noto Sans", Helvetica, Arial, sans-serif',w='"Noto Serif", "Palatino Linotype", Palatino, serif',k=1/Math.pow(1.333,1),N=1*Math.pow(1.333,1),C=1*Math.pow(1.333,2),S=1*Math.pow(1.333,3),x=1*Math.pow(1.333,4),O=1*Math.pow(1.333,5),T=N/2,L=p()("hsl(196, 100%, 50%)"),D=p()("hsl(36, 100%, 50%)"),j=p()("hsl(0, 100%, 50%)"),I=v(D,L).darken(.2),A=v(L,D),z=v(L,j),F=y(I),M=y(A),J=y(z),q=F.grayscale().lightness(99),P=F.grayscale().lightness(4),V={"@global":{"*":{boxSizing:"border-box"},body:{margin:0,padding:0,paddingLeft:"calc(100vw - 100%)",fontFamily:E,fontSize:"".concat(1,"rem"),lineHeight:2*T,backgroundColor:q.string(),color:P.string(),fontKerning:"normal",fontVariantLigatures:"common-ligatures contextual",fontFeatureSettings:['"kern" 1','"liga" 1','"clig" 1','"calt" 1']},"h1, h2, h3, h4, h5, h6":{fontFamily:w,textRendering:"optimizeLegibility",margin:{top:"".concat(2*T*2,"rem"),right:"0",bottom:"".concat(2*T*1,"rem"),left:"0"},padding:0},"h1, h2":{marginTop:0},h1:{color:I.darken(.2).string(),fontSize:"".concat(x,"rem")},h2:{color:I.darken(.1).string(),fontSize:"".concat(S,"rem")},h3:{color:I.darken(.08).string(),fontSize:"".concat(C,"rem")},h4:{color:I.darken(.05).string(),fontSize:"".concat(N,"rem")},h5:{color:I.darken(.02).string(),fontSize:"".concat(1,"rem")},h6:{color:I.string(),fontSize:"".concat(k,"rem")},p:{fontSize:"".concat(1,"rem"),margin:{top:"0",right:"0",bottom:"".concat(2*T*1,"rem"),left:"0"},padding:0},a:{"&:link, &:visited, &:hover, &:active":{textDecoration:"underline",TextDecorationSkipInk:"auto"},"&:link, &:visited":{color:I.string()},"&:hover":{color:I.darken(.15).string()},"&:active":{color:A.string()},"&.active":{"&:link, &:visited":{color:A.string()},"&:hover":{color:A.darken(.15).string()},"&:active":{color:A.darken(.25).string()}},"&:focus":{outline:{width:1,style:"solid",color:I.darken(.15).alpha(.3).string()}}},input:{fontFamily:E,fontSize:"".concat(1,"rem"),boxSizing:"border-box",height:"".concat(3*T,"rem"),"&:focus":{outline:{width:1,style:"solid",color:I.darken(.15).alpha(.3).string()}},"&[type=checkbox], &[type=radio]":{height:"inherit",verticalAlign:"baseline"}},button:{fontFamily:E,fontSize:"".concat(1,"rem"),cursor:"pointer",border:{width:"1px",style:"solid",color:I.darken(.15).alpha(.3).string()},background:"none",backgroundColor:q.darken(.05).string(),padding:"".concat(T,"rem"),borderRadius:"3px","&:hover":{backgroundColor:q.darken(.1).string()},"&:active":{backgroundColor:q.darken(.15).string(),boxShadow:{inset:"inset",x:0,y:0,blur:"".concat(T,"rem"),spread:null,color:q.darken(.25).string()}},"&:focus":{outline:{width:1,style:"solid",color:I.darken(.15).alpha(.3).string()}}},"select, optgroup, textarea":{fontFamily:E,fontSize:"".concat(1,"rem")},select:{height:"".concat(3*T,"rem")},"code, kbd, samp, var":{fontFamily:"monospace, monospace",backgroundColor:q.darken(.1).string(),color:P.lighten(5).string(),padding:{top:"".concat(T/7,"rem"),right:"".concat(T/2,"rem"),bottom:"".concat(T/7,"rem"),left:"".concat(T/2,"rem")}},".toast-update, .toast-unsaved, .toast-unopened":{backgroundColor:z.darken(.1).alpha(.9).string()},".toast-cached, .toast-opened":{backgroundColor:I.darken(.1).alpha(.9).string()},".toast-offline":{backgroundColor:A.darken(.1).alpha(.9).string()}}},R=a(8),W=(a(240),{app:{width:"".concat(1*Math.pow(1.333,15),"rem"),maxWidth:"92%",marginLeft:"auto",marginRight:"auto"}}),B=a(242),G=a(270),H=a(3),U=a.n(H),Y={header:{display:"flex",justifyContent:"space-between",alignItems:"baseline",borderBottom:{width:"1px",style:"solid",color:I.darken(.15).string()},padding:{top:"".concat(2*T,"rem"),right:0,bottom:"".concat(2*T,"rem"),left:0},"& a, & a:link, & a:visited, & a:hover, & a:active":{textDecoration:"none"}},titleArea:{order:0},siteTitle:{marginBottom:"".concat(T,"rem")},titleLink:{"&:link, &:visited, &:hover, &:active":{color:I.darken(.3).string()}},siteSubtitle:{fontStyle:"italic"},nav:{order:1,flexGrow:1},menu:{textAlign:"right",fontFamily:w},navLink:{display:"inline-block",margin:[[0,"".concat(2*T,"rem")]],padding:0,fontSize:"".concat(N,"rem"),lineHeight:"".concat(2*T,"rem")},disabled:{opacity:.5,"&:hover":{opacity:.8}}},_=m()(Y)(function(e){return s.a.createElement("header",null,s.a.createElement("div",{className:e.classes.header},s.a.createElement("div",{className:e.classes.titleArea},s.a.createElement("h1",{className:e.classes.siteTitle},s.a.createElement(B.a,{to:"/",className:e.classes.titleLink},"Langua")),s.a.createElement("p",{className:e.classes.siteSubtitle},"A suite of language tools")),s.a.createElement("nav",{className:e.classes.nav},s.a.createElement("ul",{className:e.classes.menu},s.a.createElement("li",{className:e.classes.navLink},s.a.createElement(G.a,{to:"/gen",activeClassName:"active"},"Gen")),s.a.createElement("li",{className:U()(e.classes.navLink,e.classes.disabled)},s.a.createElement(G.a,{to:"/morph",activeClassName:"active"},"Morph")),s.a.createElement("li",{className:U()(e.classes.navLink,e.classes.disabled)},s.a.createElement(G.a,{to:"/deriv",activeClassName:"active"},"Deriv")),s.a.createElement("li",{className:e.classes.navLink},s.a.createElement(G.a,{to:"/frequen",activeClassName:"active"},"Frequen")),s.a.createElement("li",{className:U()(e.classes.navLink,e.classes.disabled)},s.a.createElement(G.a,{to:"/tree",activeClassName:"active"},"Tree"))))))}),Q=a(273),K=a(243),Z=(a(248),function(e){return s.a.createElement(B.a,{to:e.linkTo,className:e.disabled?U()(e.classes.panel,e.classes.disabled):e.classes.panel},s.a.createElement("h2",{className:e.classes.toolTitle},e.toolTitle),s.a.createElement("p",{className:e.classes.toolDescription},e.children))}),X={grid:{display:"flex",justifyContent:"space-between",alignItems:"baseline",flexWrap:"wrap"},panel:{"&:link, &:visited, &:hover, &:active":{color:P.string(),width:"49%",marginBottom:"".concat(T,"rem"),padding:"".concat(k,"rem"),textDecoration:"none",boxSizing:"border-box"},"&:hover":{outline:{width:"1px",style:"solid",color:I.darken(.15).alpha(.3).string()}}},disabled:{opacity:.5,"&:hover":{opacity:.8},"& p":{fontStyle:"italic"}},toolDescription:{margin:0}},$=m()(X)(function(e){return s.a.createElement("div",{className:e.classes.home},s.a.createElement("p",{className:e.classes.siteDescription},"Langua is a suite of language tools that can be used for testing, experimentation, learning, analysis, or creation."),s.a.createElement("div",{className:e.classes.grid},s.a.createElement(Z,{classes:e.classes,linkTo:"/gen",toolTitle:"Gen"},"LanguaGen is a tool for automatically building a set of words based on arbitrary rules of phonotactics. This can be used to create a dummy vocabulary for linguistic experimentation, to generate words or names for a naming language in a work of fantasy or science fiction, or as the basis for building the vocabulary of a constructed language."),s.a.createElement(Z,{classes:e.classes,linkTo:"/morph",toolTitle:"Morph",disabled:!0},"LanguaMorph is a tool for modeling historical sound change according to arbitrary rules of phonetic change. It can also be used to reverse historical sound change according to those same rules in order to guess at a word\u2019s proto-language roots."),s.a.createElement(Z,{classes:e.classes,linkTo:"/deriv",toolTitle:"Deriv",disabled:!0},"LanguaDeriv is a tool for modeling word derivation according to arbitrary rules of morphosyntactics."),s.a.createElement(Z,{classes:e.classes,linkTo:"/frequen",toolTitle:"Frequen"},"LanguaFrequen is a tool for analyzing phoneme frequencies in a given text."),s.a.createElement(Z,{classes:e.classes,linkTo:"/tree",toolTitle:"Tree",disabled:!0},"LanguaTree is a tool for drawing and labeling syntax trees.")),s.a.createElement("p",{className:e.classes.siteDescription},"Langua is a full Progressive Web App; once the site has been loaded, its full functionality is available even offline. Langua can also be added to the homescreen of your tablet or mobile device for easy access."))}),ee=m()({notice:{fontStyle:"italic"}})(function(e){return s.a.createElement("p",{className:e.classes.notice},e.children)}),te=a(271),ae={btn:{border:{width:1,style:"solid",color:I.darken(.6).alpha(.3).string()},background:"none",backgroundColor:q.darken(.05).string(),color:I.string(),fontWeight:"bold",padding:"".concat(T,"rem"),borderRadius:3,"&:hover":{backgroundColor:q.darken(.1).string(),color:I.darken(.15).string()},"&:active":{backgroundColor:q.darken(.2).string(),boxShadow:{inset:"inset",x:0,y:0,blur:"".concat(T,"rem"),spread:null,color:q.darken(.3).string()},color:A.string()}},neutral:{color:q.string(),backgroundColor:A.darken(.15).string(),border:{width:1,style:"solid",color:A.darken(.7).alpha(.3).string()},"&:hover":{backgroundColor:A.darken(.25).string(),color:q.string()},"&:active":{backgroundColor:M.darken(.25).string(),boxShadow:{inset:"inset",x:0,y:0,blur:"".concat(T,"rem"),spread:null,color:M.darken(.35).string()},color:q.string()}},success:{color:q.string(),backgroundColor:I.string(),"&:hover":{backgroundColor:I.darken(.1).string(),color:q.string()},"&:active":{backgroundColor:F.darken(.1).string(),boxShadow:{inset:"inset",x:0,y:0,blur:"".concat(T,"rem"),spread:null,color:F.darken(.2).string()},color:q.string()}},danger:{color:q.string(),backgroundColor:z.darken(.1).string(),border:{width:1,style:"solid",color:z.darken(.65).alpha(.3).string()},"&:hover":{backgroundColor:z.darken(.2).string(),color:q.string()},"&:active":{backgroundColor:J.darken(.2).string(),boxShadow:{inset:"inset",x:0,y:0,blur:"".concat(T,"rem"),spread:null,color:J.darken(.3).string()},color:q.string()}},buttonLink:{float:"right"},small:{fontSize:"".concat(k,"rem"),padding:"".concat(.5,"rem")}},ne=m()(ae)(function(e){var t,a;return s.a.createElement("button",{onClick:e.onClick,id:e.id,className:U()(e.classes.btn,(t=e.ver,a=e.classes,"neutral"===t?a.neutral:"success"===t?a.success:"danger"===t?a.danger:null),e.classes[e.addClass]),type:e.type||"button",role:e.role||"button"},e.children)}),se=Object(te.a)(function(e){return s.a.createElement(ne,{ver:e.buttonType,addClass:"buttonLink",onClick:function(t){t.preventDefault(),e.history.push(e.route)},role:"link"},e.children)}),re={form:{"& input":{flexGrow:1},"& textarea":{flexGrow:1},"& select, input":{padding:1,margin:1},"& select":{textAlign:"center"},"& label":{marginLeft:"".concat(T,"rem"),marginRight:"".concat(T,"rem"),verticalAlign:"middle"}}},oe=m()(re)(function(e){return s.a.createElement("form",{className:e.classes.form},e.children)}),le={sectionTitle:{margin:0},part:{marginTop:"".concat(T,"rem")},hidden:{display:"none"}},ie=m()(le)(function(e){return s.a.createElement(oe,null)}),ce={results:{marginTop:"".concat(T,"rem"),paddingTop:"".concat(T,"rem"),borderTop:{width:1,style:"dotted",color:F.string()}}},ue=m()(ce)(function(e){return s.a.createElement("div",{className:e.classes.results},e.children)}),de={resultsSection:{marginTop:"".concat(N,"rem"),marginBottom:"".concat(N,"rem")},error:{color:z.string()},table:{width:"100%",borderCollapse:"collapse",border:{width:1,style:"dotted",color:A.string()}},headerCell:{padding:"".concat(T,"rem"),textAlign:"center",backgroundColor:A.string(),borderBottom:{width:1,style:"dotted",color:A.string()}},tableBody:{paddingTop:"".concat(T,"rem"),paddingBottom:"".concat(T,"rem")},dataCell:{borderRight:{width:1,style:"dotted",color:A.string()},"&:last-child":{borderRight:"none"},padding:{top:0,right:"".concat(T,"rem"),bottom:0,left:"".concat(T,"rem")},textAlign:"center"},stats:{paddingTop:"".concat(T,"rem"),borderTop:{width:1,style:"dotted",color:F.string()}},statsText:{fontSize:"".concat(k,"rem"),fontStyle:"italic"}},me=m()(de)(function(e){return s.a.createElement(ue,null)}),he={},pe=m()(he)(function(e){return s.a.createElement("div",{className:e.classes.deriv},s.a.createElement(R.Helmet,null,s.a.createElement("title",null,ft," Deriv"),s.a.createElement("meta",{name:"description",content:"LanguaDeriv is a tool for modeling word derivation according to arbitrary rules of morphosyntactics."}),s.a.createElement("link",{rel:"canonical",href:"".concat(gt,"deriv/")})),s.a.createElement(se,{route:"/deriv/help"},"Help"),s.a.createElement("h2",{className:"toolTitle"},"LanguaDeriv"),s.a.createElement(ee,null,"This tool is still in planning."),s.a.createElement(ie,{styles:e.classes}),s.a.createElement(me,{styles:e.classes}))}),ge={},fe=m()(ge)(function(e){return s.a.createElement("div",{className:e.classes.help},s.a.createElement(R.Helmet,null,s.a.createElement("title",null,ft," ",e.toolTitle," Help"),s.a.createElement("meta",{name:"description",content:e.toolDescription}),s.a.createElement("link",{rel:"canonical",href:"".concat(gt+e.link,"/help/")})),s.a.createElement(se,{route:"/".concat(e.link)},"Back"),s.a.createElement("h2",{className:"toolTitle"},"Langua".concat(e.toolTitle)," Help"),s.a.createElement("p",{id:"description"},e.toolDescription),e.children)}),be=function(e){return s.a.createElement(fe,{toolTitle:"Deriv",toolDescription:"Langua".concat("Deriv"," is a tool for modeling word derivation according to arbitrary rules of morphosyntactics."),link:"deriv"},s.a.createElement(ee,null,"This tool is still in planning."))},ve=a(40),ye=a(11),Ee=a(12),we=a(30),ke=a(29),Ne=a(31),Ce=a(5),Se={control:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"baseline",alignContent:"space-between",flexWrap:"wrap"},controlLeft:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"baseline",alignContent:"space-between",flexWrap:"wrap"},controlRight:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"baseline",alignContent:"space-between"},controlPiece:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"baseline",alignContent:"space-between",margin:"".concat(T,"rem"),verticalAlign:"middle"}},xe=m()(Se)(function(e){return e.addedClasses?s.a.createElement("div",{className:U()(e.classes.control,e.addedClasses)},e.children):s.a.createElement("div",{className:e.classes.control},e.children)}),Oe=m()(Se)(function(e){return"left"===e.side?e.addedClasses?s.a.createElement("div",{className:U()(e.classes.controlLeft,e.addedClasses)},e.children):s.a.createElement("div",{className:e.classes.controlLeft},e.children):e.addedClasses?s.a.createElement("div",{className:U()(e.classes.controlRight,e.addedClasses)},e.children):s.a.createElement("div",{className:e.classes.controlRight},e.children)}),Te=m()(Se)(function(e){return e.addedClasses?s.a.createElement("div",{className:U()(e.classes.controlPiece,e.addedClasses)},e.children):s.a.createElement("div",{className:e.classes.controlPiece},e.children)}),Le=m()(le)(function(e){var t=s.a.createRef();return s.a.createElement(oe,null,s.a.createElement("div",{className:U()(e.styles.corpus,e.classes.part)},s.a.createElement("h5",{className:e.classes.sectionTitle},"Text Corpus"),s.a.createElement("textarea",{className:U()(e.styles.corpusInput,e.styles.input),id:"corpus",name:"corpus",value:e.state.corpus,onChange:e.onChangeInput})),s.a.createElement("div",{className:U()(e.styles.consonants,e.classes.part)},s.a.createElement("h5",{className:e.classes.sectionTitle},"Consonants"),s.a.createElement("input",{className:e.styles.input,id:"consonants",name:"consonants",type:"text",value:e.state.consonants,onChange:e.onChangeInput})),s.a.createElement("div",{className:U()(e.styles.vowels,e.classes.part)},s.a.createElement("h5",{className:e.classes.sectionTitle},"Vowels"),s.a.createElement("input",{className:e.styles.input,id:"vowels",name:"vowels",type:"text",value:e.state.vowels,onChange:e.onChangeInput})),s.a.createElement(xe,{addedClasses:e.classes.part},s.a.createElement(Oe,{side:"left"},s.a.createElement(Te,null,s.a.createElement(ne,{type:"submit",ver:"neutral",onClick:e.onAnalyze},"Analyze")),s.a.createElement(Te,null,s.a.createElement("label",null,s.a.createElement("input",{type:"checkbox",id:"distinguishCase",name:"distinguishCase",value:"distinguishCase",checked:e.state.distinguishCase,onChange:e.onChangeInput})," ","distinguish upper and lower case"))),s.a.createElement(Oe,{side:"right"},s.a.createElement(Te,null,s.a.createElement(ne,{id:"save",ver:"success",onClick:e.onChangeInput,type:"button"},"Save")),s.a.createElement(Te,null,s.a.createElement(ne,{id:"open",onClick:function(e){e.preventDefault(),t.current.value="",t.current.click()},type:"button"},"Open"),s.a.createElement("input",{id:"file",name:"file",className:e.classes.hidden,type:"file",ref:t,onChange:e.onChangeInput})))))}),De=(a(250),a(16)),je=function(e){function t(e){var a;return Object(ye.a)(this,t),(a=Object(we.a)(this,Object(ke.a)(t).call(this,e))).onChangeInput=a.onChangeInput.bind(Object(Ce.a)(Object(Ce.a)(a))),a.twoDecimals=a.twoDecimals.bind(Object(Ce.a)(Object(Ce.a)(a))),a.whichData=a.whichData.bind(Object(Ce.a)(Object(Ce.a)(a))),a.headerCells=a.headerCells.bind(Object(Ce.a)(Object(Ce.a)(a))),a.dataRows=a.dataRows.bind(Object(Ce.a)(Object(Ce.a)(a))),a}return Object(Ne.a)(t,e),Object(Ee.a)(t,[{key:"onChangeInput",value:function(e){e.preventDefault();var t=e.target.name,a=e.target.val;this.setState(function(e){return Object(ve.a)({},t,a)})}},{key:"twoDecimals",value:function(e){return(Math.round(100*e)/100).toFixed(2)}},{key:"whichData",value:function(){switch(this.props.filter){case"consonants":return this.props.results.consonants;case"vowels":return this.props.results.vowels;default:return this.props.results.all}}},{key:"headerCells",value:function(){var e=this,t=[];for(var a in this.props.results)if(this.props.results.hasOwnProperty(a)){var n=0;this.props.results[a].forEach(function(e){n+=e.count}),t.push({name:a,total:n})}var r=function(){var a={};return t.forEach(function(t){t.name===e.props.filter&&(a={name:t.name,total:t.total})}),a};return"all"!==this.props.filter?s.a.createElement("th",{className:this.props.classes.headerCell},"% of ".concat(r().name),s.a.createElement("br",null),"total: ".concat(r().total)):t.map(function(t,a){return s.a.createElement("th",{className:e.props.classes.headerCell,key:a},"% of ".concat(t.name),s.a.createElement("br",null),"total: ".concat(t.total))})}},{key:"dataRows",value:function(){var e=this,t=JSON.parse(JSON.stringify(this.whichData())).sort(function(e,t){return t.count-e.count}),a=function(t,a){for(var n=-1,s=0;s<t.length;s++)t[s].y===a&&(n=s);return n>-1?e.twoDecimals(t[n].x)+"%":e.twoDecimals(0)+"%"};return t.map(function(t){return s.a.createElement("tr",{className:e.props.classes.dataRow,key:t.i},s.a.createElement("td",{className:e.props.classes.dataCell},t.y),s.a.createElement("td",{className:e.props.classes.dataCell},t.count),"all"===e.props.filter?s.a.createElement("td",{className:e.props.classes.dataCell},e.twoDecimals(t.x)+"%"):null,"all"===e.props.filter?s.a.createElement("td",{className:e.props.classes.dataCell},"consonant"===t.type?a(e.props.results.consonants,t.y):null):"consonants"===e.props.filter?s.a.createElement("td",{className:e.props.classes.dataCell},e.twoDecimals(t.x)+"%"):null,"all"===e.props.filter?s.a.createElement("td",{className:e.props.classes.dataCell},"vowel"===t.type?a(e.props.results.vowels,t.y):null):"vowels"===e.props.filter?s.a.createElement("td",{className:e.props.classes.dataCell},e.twoDecimals(t.x)+"%"):null)})}},{key:"render",value:function(){var e={fontSize:"".concat(k,"rem"),text:{fill:"".concat(P.lighten(9).string())},line:{stroke:"".concat(P.lighten(20).string())}},t={stroke:"".concat(P.lighten(20).string())};return this.props.analyzed?s.a.createElement(ue,null,s.a.createElement(xe,null,s.a.createElement(Te,null,s.a.createElement("select",{id:"filter",name:"filter",value:this.props.filter,onChange:this.props.onChangeInput},s.a.createElement("option",{value:"all"},"All Segments"),s.a.createElement("option",{value:"consonants"},"Consonants"),s.a.createElement("option",{value:"vowels"},"Vowels")))),s.a.createElement("div",{className:U()(this.props.classes.barChart,this.props.classes.resultsSection)},s.a.createElement(De.a,{yType:"ordinal",height:16*N*this.whichData().length,margin:{top:16*C,right:16*x,bottom:16*C,left:16*x},onMouseLeave:this.props.onMouseOut},s.a.createElement(De.e,{style:t}),s.a.createElement(De.d,{style:t}),s.a.createElement(De.f,{tickFormat:function(e){return"".concat(e,"%")},style:e,orientation:"top"}),s.a.createElement(De.f,{tickFormat:function(e){return"".concat(e,"%")},style:e,orientation:"bottom"}),s.a.createElement(De.g,{style:e,orientation:"left"}),s.a.createElement(De.g,{style:e,orientation:"right"}),s.a.createElement(De.c,{data:this.whichData(),animation:!0,colorType:"literal",onValueMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut}),this.props.hovered?s.a.createElement(De.b,{value:Object(ve.a)({},"/".concat(this.props.hovered.y,"/ (").concat(this.props.hovered.type,")"),"".concat(this.props.hovered.count," (").concat(this.twoDecimals(this.props.hovered.x),"%)"))}):null)),s.a.createElement("div",{className:U()(this.props.classes.dataTable,this.props.classes.resultsSection)},s.a.createElement("table",{className:this.props.classes.table},s.a.createElement("thead",{className:this.props.classes.tableHead},s.a.createElement("tr",{className:this.props.classes.headerRow},s.a.createElement("th",{className:this.props.classes.headerCell},"Segment"),s.a.createElement("th",{className:this.props.classes.headerCell},"Count"),this.headerCells())),s.a.createElement("tbody",{className:this.props.classes.tableBody},this.dataRows())))):s.a.createElement("div",{className:this.props.classes.results})}}]),t}(s.a.Component),Ie=m()(de)(je),Ae=a(246),ze=a(32),Fe=a.n(ze),Me=a(244),Je=a.n(Me),qe=new(function(){function e(){Object(ye.a)(this,e)}return Object(Ee.a)(e,[{key:"saveFile",value:function(e,t){var a="";switch(t){case"gen":a="LanguaGen.lngg";break;case"morph":a="LanguaMorph.lngm";break;case"deriv":a="LanguaDeriv.lngd";break;case"frequen":a="LanguaFrequen.lngf";break;case"tree":a="LanguaTree.lngt";break;default:a="Langua.lngl"}var n=new window.File([JSON.stringify(e,null,2)],a,{type:"application/json"});Je()(n)}},{key:"openFile",value:function(e,t){var a=new window.FileReader;a.onload=function(){t(a.result)},a.readAsText(e)}}]),e}()),Pe={corpus:"Nz\u0254 de\u2019\xe1xa Ts\u0259naxa, \xf1o lo s\u025btsa\u2019\u0254k, \xf1o lo de\u2019\xe1xa u Kasaga, \xf1o lo m\u025bya ayru Tol o \u018fbe kw\u0259, sa nz\u0254 xa mpaskale: Stey\u0259 rab\u025b lu \xf1ire lu mvun\u0259 poxe o lu p\u025bl\u0254 ah lo m\u025bw\u025b axe, max\u0259 \u0254ra latsi \u0259b\u0254w\u0259 s\u0259yo.",consonants:"b/d/f/g/k/kw/l/m/mp/mv/n/nt/nts/nz/\xf1/\u014bk/\u014bkw/p/r/s/t/ts/v/w/x,h/y/\u2019",vowels:"a,\xe1/\u025b,\u025b\u0301/e,\xe9/\u0259,\u0259\u0301/i,\xed/\u0254,\u0254\u0301/o,\xf3/u,\xfa",distinguishCase:!1,analyzed:!1,results:void 0,hovered:void 0,filter:"all"},Ve=new(function(){function e(){Object(ye.a)(this,e),this.storage=window.localStorage,this.item="frequen",this.getData=this.getData.bind(this),this.setStorage=this.setStorage.bind(this),this.analyze=this.analyze.bind(this),this.save=this.save.bind(this),this.open=this.open.bind(this)}return Object(Ee.a)(e,[{key:"getData",value:function(){var e;return"undefined"!==typeof Storage?this.storage.getItem(this.item)?e=JSON.parse(this.storage.getItem(this.item)):(e=Pe,this.setStorage(e)):e=Pe,e}},{key:"setStorage",value:function(e){"undefined"!==typeof Storage&&this.storage.setItem(this.item,JSON.stringify(e))}},{key:"analyze",value:function(e){var t=function(e){var t=Array.from(new Set(e.split("/")));return t.indexOf("")>-1&&t.splice(t.indexOf(""),1),t},a=function(e){var t=[];return e.forEach(function(e){t.push(e.split(","))}),t},n=a(t(e.consonants)),s=a(t(e.vowels)),r=function(e){var t;return Array.from(new Set((t=[]).concat.apply(t,Object(Ae.a)(e))))},o=function(t){var a=[];return e.distinguishCase?a=t:t.forEach(function(e){return a.push(e.toLowerCase())}),Array.from(new Set(a))},l=function(e){return e.sort(function(e,t){return t.length-e.length})},i=l(o(r(n))),c=l(o(r(s))),u={},d=function(e,t){e.forEach(function(e){u[e]={},u[e].count=0,u[e].type=t})};d(i,"consonant"),d(c,"vowel");var m=function(e){e.forEach(function(t,a){t.length>1&&t.forEach(function(t,n){n>0&&(u[e[a][n]].allophoneOf=e[a][0])})})};m(n),m(s);var h=l(i.concat(c)),p=e.distinguishCase?e.corpus:e.corpus.toLowerCase();for(var g in h.forEach(function(e){for(;p.indexOf(e)>-1;)t=e,p.indexOf(t)>-1&&(u[t].count+=1,p=p.slice(0,p.indexOf(t))+p.slice(p.indexOf(t)+t.length));var t}),u)u.hasOwnProperty(g)&&u[g].hasOwnProperty("allophoneOf")&&(u[u[g].allophoneOf].count+=u[g].count,delete u[g]);var f=function(e){var t=[];for(var a in u)u[a].type!==e&&void 0!==e||t.push({segment:a,count:u[a].count,type:u[a].type});t.sort(function(e,t){return e.count-t.count});var n=0;return t.forEach(function(e){n+=e.count}),t.map(function(e,t){return{x:e.count/n*100,y:e.segment,count:e.count,type:e.type,i:t,color:"consonant"===e.type?I.string():I.darken(.2).string()}})};return{all:f(),consonants:f("consonant"),vowels:f("vowel")}}},{key:"save",value:function(e){var t=JSON.parse(JSON.stringify(e));t.analyzed=!1,this.setStorage(t),window.File?qe.saveFile(t,this.item):l.toast.info("Your browser is unable to save files. The data has been saved to your browser\u2019s local storage.",{autoClose:5e3,className:"toast-unsaved",bodyClassName:"toast-unsaved-body",progressClassName:"toast-unsaved-progress"})}},{key:"open",value:function(e,t){var a,n=this;window.FileReader?qe.openFile(e,function(s){if(e.name.endsWith(".lngf")){var r=Fe()({color:String,count:Number,i:Number,type:String,x:Number,y:String}),o=Fe()({corpus:String,consonants:String,vowels:String,distinguishCase:Boolean,analyzed:Boolean,"?results":{all:Array.of(r),consonants:Array.of(r),vowels:Array.of(r)},"?hovered":r,filter:String}),i=JSON.parse(s);i.hovered&&(i.hovered.count=+i.hovered.count,i.hovered.i=+i.hovered.i,i.hovered.x=+i.hovered.x),i.results&&(i.results.all.forEach(function(e){e.count=+e.count,e.i=+e.i,e.x=+e.x}),i.results.consonants.forEach(function(e){e.count=+e.count,e.i=+e.i,e.x=+e.x}),i.results.vowels.forEach(function(e){e.count=+e.count,e.i=+e.i,e.x=+e.x})),i.analyzed=!1,o(i)?(l.toast.success("Data loaded from ".concat(e.name,"."),{autoClose:5e3,className:"toast-opened",bodyClassName:"toast-opened-body",progressClassName:"toast-opened-progress"}),n.setStorage(i),a=i):(l.toast.info("The content of ".concat(e.name," is invalid."),{autoClose:5e3,className:"toast-unopened",bodyClassName:"toast-unopened-body",progressClassName:"toast-unopened-progress"}),console.error(o.errors(i)),a=!1)}else l.toast.info("Wrong filetype selected.",{autoClose:5e3,className:"toast-unopened",bodyClassName:"toast-unopened-body",progressClassName:"toast-unopened-progress"}),a=!1;t(a)}):(l.toast.info("Your browser is unable to open files.",{autoClose:5e3,className:"toast-unopened",bodyClassName:"toast-unopened-body",progressClassName:"toast-unopened-progress"}),t(a=!1))}}]),e}()),Re={input:{width:"100%"},corpusInput:{height:"".concat(2*O,"rem")}},We=function(e){function t(e){var a;return Object(ye.a)(this,t),(a=Object(we.a)(this,Object(ke.a)(t).call(this,e))).onChangeInput=a.onChangeInput.bind(Object(Ce.a)(Object(Ce.a)(a))),a.onAnalyze=a.onAnalyze.bind(Object(Ce.a)(Object(Ce.a)(a))),a.onMouseOver=a.onMouseOver.bind(Object(Ce.a)(Object(Ce.a)(a))),a.onMouseOut=a.onMouseOut.bind(Object(Ce.a)(Object(Ce.a)(a))),a.state=Ve.getData(),a}return Object(Ne.a)(t,e),Object(Ee.a)(t,[{key:"onChangeInput",value:function(e){var t=this;if("BUTTON"===e.target.tagName)e.preventDefault(),"save"===e.target.id&&Ve.save(this.state);else if("file"===e.target.type){e.preventDefault();var a=e.target.files[0];Ve.open(a,function(e){e&&t.setState(function(t){return e})})}else{var n="checkbox"===e.target.type?e.target.checked:e.target.value,s=e.target.name;this.setState(function(e){return Object(ve.a)({},s,n)})}}},{key:"onAnalyze",value:function(e){var t=this;e.preventDefault(),this.setState(function(e){return{analyzed:!1}},function(){Ve.setStorage(t.state);var e=Ve.analyze(t.state);t.setState(function(t){return{results:e,analyzed:!0}})})}},{key:"onMouseOver",value:function(e){this.setState(function(t){return{hovered:e}})}},{key:"onMouseOut",value:function(){this.setState(function(e){return{hovered:void 0}})}},{key:"render",value:function(){return s.a.createElement("div",{className:this.props.classes.frequen},s.a.createElement(R.Helmet,null,s.a.createElement("title",null,ft," Frequen"),s.a.createElement("meta",{name:"description",content:"LanguaFrequen is a tool for analyzing phoneme frequencies in a given text."}),s.a.createElement("link",{rel:"canonical",href:"".concat(gt,"frequen/")})),s.a.createElement(se,{route:"/frequen/help"},"Help"),s.a.createElement("h2",{className:"toolTitle"},"LanguaFrequen"),s.a.createElement(Le,{styles:this.props.classes,state:this.state,onChangeInput:this.onChangeInput,onAnalyze:this.onAnalyze}),s.a.createElement(Ie,{styles:this.props.classes,results:this.state.results,hovered:this.state.hovered,filter:this.state.filter,analyzed:this.state.analyzed,onChangeInput:this.onChangeInput,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut}))}}]),t}(s.a.Component),Be=m()(Re)(We),Ge=function(e){return s.a.createElement(fe,{toolTitle:"Frequen",toolDescription:"Langua".concat("Frequen"," is a tool for analyzing phoneme frequencies in a given text."),link:"frequen"},s.a.createElement(ee,null,"This tool is still in development."),s.a.createElement("h3",{id:"using"},"Using Langua","Frequen"),s.a.createElement("h4",{id:"corpus"},"Text Corpus"),s.a.createElement("p",null,"Input a corpus of text in the ",s.a.createElement("strong",null,"Text Corpus")," field. This is the text that will be analyzed. The text can be phomic or phonetic, or it can simply use the language\u2019s standard spelling system. For best results, however, each sound that should be analyzed separately will need its own grapheme or grapheme cluster. For example, in English, the letter"," ",s.a.createElement("code",null,"y")," would need to be differentiated based on when it occurs as a consonant vs. when it occurs as a vowel. It does not matter if punctuation is removed from the corpus, as any graphemes not identified for analysis in the next step will be ignored by the tool."),s.a.createElement("h4",{id:"phonemes"},"Phonemes"),s.a.createElement("p",null,"Next, add a list of consonants and vowels accordingly to the"," ",s.a.createElement("strong",null,"Consonants")," and ",s.a.createElement("strong",null,"Vowels")," lists. Separate each of the segments with a forward slash (",s.a.createElement("code",null,"/"),"). These segments can be single graphemes or grapheme clusters, and a cluster can contain characters that are used in shorter segments. For example, given the corpus ",s.a.createElement("code",null,"kanto")," and the consonants"," ",s.a.createElement("code",null,"n/t/nt"),", the tool will identify one occurance of"," ",s.a.createElement("code",null,"nt"),", but no occurances of ",s.a.createElement("code",null,"n")," or ",s.a.createElement("code",null,"t"),". Any graphemes not identified for analysis will be ignored. In the previous example, since ",s.a.createElement("code",null,"k")," was not added to the list of consonants, the tool would not count its occurance."),s.a.createElement("h4",{id:"allophones"},"Allophones"),s.a.createElement("p",null,"Allophones can be added after a segment to indicate that multiple segments should all be counted as occurances of the same segment. Separate allophones with a comma (",s.a.createElement("code",null,","),"). For example, given the corpus ",s.a.createElement("code",null,"potan\xe1"),", if the vowels list contained ",s.a.createElement("code",null,"a/\xe1/o"),", the tool would identify one occurance each of ",s.a.createElement("code",null,"a"),", ",s.a.createElement("code",null,"\xe1"),", and ",s.a.createElement("code",null,"o"),", but if the vowels list contained ",s.a.createElement("code",null,"a,\xe1/o"),", the tool would identify two occurances of ",s.a.createElement("code",null,"a")," and one occurance of ",s.a.createElement("code",null,"o"),"."),s.a.createElement("h4",{id:"analysis"},"Analysis"),s.a.createElement("p",null,"When ready, click the ",s.a.createElement("strong",null,"Analyze")," button to run the analysis. The tool will draw a graph and display a table showing the frequencies of each of the identified segments in the text corpus."),s.a.createElement("h4",{id:"filtering"},"Filtering"),s.a.createElement("p",null,"After a text has been analyzed, the results can be filtered to show only certain segments. Choosing a filter will show the percentages in the data as it compares to only segments of that type, rather than comparing to all segments."),s.a.createElement("p",null,"Currently, the results can be filtered to show only consonants or only vowels. Additional filtering options will be added in the future."),s.a.createElement("h4",{id:"files"},"Saving and Loading Settings"),s.a.createElement(ee,null,"This functionality has not yet been implemented."),s.a.createElement("p",null,"Clicking the ",s.a.createElement("strong",null,"Save")," button will save the current settings to the browser\u2019s local storage and generate a small ",s.a.createElement("code",null,".lngf")," ","text file containing the current settings that can be saved to your disk. This ",s.a.createElement("code",null,".lngf")," file can be loaded using the ",s.a.createElement("strong",null,"Open")," ","button to reload saved settings."),s.a.createElement("h3",{id:"acknowledgments"},"Acknowledgments"),s.a.createElement("p",null,"Much thanks should be given to Jan Strasser and"," ",s.a.createElement("a",{href:"http://akana.conlang.org/tools/frequentizer.html",target:"_blank",rel:"noopener noreferrer"},"the Frequentizer"),". LanguaFrequen was mainly built as a modernized and updated version of the Frequentizer."))},He={subpatterns:[{selected:"V",subpattern:"a/e/i/o/u"},{selected:"C",subpattern:"p/t/k/b/d/g/s/m/n/l/r"},{selected:"N",subpattern:"m/n"}],pattern:"V/CV/CVN/CVCV/CVCVN",words:100,newline:!1,filterdupes:!1},Ue=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ye=m()(le)(function(e){var t=s.a.createRef(),a=Ue.map(function(e,t){return s.a.createElement("option",{key:t,value:e},e)}),n=e.data.subpatterns.map(function(t,n){return s.a.createElement("div",{key:n,className:e.styles.subpsRow},s.a.createElement("select",{id:"v".concat(n),name:"v".concat(n),value:t.selected,onChange:e.change},a),s.a.createElement("input",{type:"text",id:"p".concat(n),name:"p".concat(n),className:e.styles.subpatternInput,value:t.subpattern,onChange:e.change}),s.a.createElement("div",{className:e.styles.clearButton},s.a.createElement(ne,{id:"c".concat(n),onClick:e.change,ver:"danger",addClass:"small",type:"button"},"Delete")))});return s.a.createElement(oe,null,s.a.createElement("div",{className:U()(e.styles.subpatterns,e.classes.part)},s.a.createElement("h5",{className:e.classes.sectionTitle},"Subpatterns"),n,function(){if(e.data.subpatterns.length<Ue.length)return s.a.createElement("div",{className:e.styles.addingRow},s.a.createElement(ne,{onClick:e.change,id:"add",ver:"success",addClass:"small",type:"button"},"Add"))}()),s.a.createElement("div",{className:U()(e.styles.pattern,e.classes.part)},s.a.createElement("h5",{className:e.classes.sectionTitle},"Pattern"),s.a.createElement("input",{type:"text",id:"pattern",name:"pattern",className:e.styles.patternInput,value:e.data.pattern,onChange:e.change})),s.a.createElement(xe,{addedClasses:e.classes.part},s.a.createElement(Oe,{side:"left"},s.a.createElement(Te,null,s.a.createElement(ne,{id:"generate",onClick:e.change,type:"submit",ver:"neutral"},"Generate")),s.a.createElement(Te,null,s.a.createElement("label",{htmlFor:"words"},"words:"),s.a.createElement("input",{type:"number",id:"words",name:"words",min:"1",max:"9999",className:e.styles.wordsInput,value:e.data.words,onChange:e.change})),s.a.createElement(Te,null,s.a.createElement("label",null,s.a.createElement("input",{type:"checkbox",id:"newline",name:"options",value:"newline",checked:e.data.newline,onChange:e.change})," ","new line each")),s.a.createElement(Te,null,s.a.createElement("label",null,s.a.createElement("input",{type:"checkbox",id:"filterdupes",name:"options",value:"filterdupes",checked:e.data.filterdupes,onChange:e.change})," ","filter duplicates"))),s.a.createElement(Oe,{side:"right"},s.a.createElement(Te,null,s.a.createElement(ne,{id:"save",ver:"success",onClick:e.change,type:"button"},"Save")),s.a.createElement(Te,null,s.a.createElement(ne,{id:"open",onClick:function(e){e.preventDefault(),t.current.value="",t.current.click()},type:"button"},"Open"),s.a.createElement("input",{id:"file",name:"file",className:e.classes.hidden,type:"file",ref:t,onChange:e.change})))))}),_e=m()(de)(function(e){var t,a=e.stats.words.toLocaleString(),n=e.stats.maxWords.toLocaleString(),r=e.stats.filtered.toLocaleString(),o=e.stats.remaining.toLocaleString();return s.a.createElement(ue,null,s.a.createElement("div",{className:e.styles.output},(t=e.classes,e.status.includes("ok")?null:e.status.map(function(e,a){return s.a.createElement("p",{key:a,className:t.error},e)})),function(t){var a=e.filterDupes?Array.from(new Set(e.results)):e.results,n=Array.prototype.join.call(a,"".concat(e.newLine?"\n":" ")).trim();return s.a.createElement("p",{className:t.outText},n)}(e.styles)),s.a.createElement("div",{className:e.classes.stats},s.a.createElement("p",{className:e.classes.statsText},e.filterDupes?"words: ".concat(o," (").concat(r," filtered out); maximum different words: ").concat(n):"words: ".concat(a,"; maximum different words: ").concat(n))))}),Qe=new(function(){function e(){Object(ye.a)(this,e),this.storage=window.localStorage,this.item="gen",this.getData=this.getData.bind(this),this.setStorage=this.setStorage.bind(this),this.changeSelect=this.changeSelect.bind(this),this.changeSubpattern=this.changeSubpattern.bind(this),this.clear=this.clear.bind(this),this.add=this.add.bind(this),this.changePattern=this.changePattern.bind(this),this.wordNumChange=this.wordNumChange.bind(this),this.changeNewline=this.changeNewline.bind(this),this.changeDupes=this.changeDupes.bind(this),this.checkErrors=this.checkErrors.bind(this),this.generate=this.generate.bind(this),this.build=this.build.bind(this),this.save=this.save.bind(this),this.open=this.open.bind(this)}return Object(Ee.a)(e,[{key:"getData",value:function(){var e;return"undefined"!==typeof Storage?this.storage.getItem(this.item)?e=JSON.parse(this.storage.getItem(this.item)):(e=He,this.setStorage(e)):e=He,e}},{key:"setStorage",value:function(e){"undefined"!==typeof Storage&&this.storage.setItem(this.item,JSON.stringify(e))}},{key:"changeSelect",value:function(e,t,a){var n=JSON.parse(JSON.stringify(a));return n.subpatterns[e].selected=t,n}},{key:"changeSubpattern",value:function(e,t,a){var n=JSON.parse(JSON.stringify(a));return n.subpatterns[e].subpattern=t,n}},{key:"clear",value:function(e,t){var a=JSON.parse(JSON.stringify(t));return a.subpatterns.splice(e,1),a}},{key:"add",value:function(e){for(var t="",a=JSON.parse(JSON.stringify(e)),n=0;n<Ue.length;n++){for(var s=!1,r=0;r<a.subpatterns.length;r++)if(a.subpatterns[r].selected===Ue[n]){s=!0;break}if(!s){t=Ue[n];break}}return a.subpatterns.length<Ue.length&&a.subpatterns.push({selected:t,subpattern:""}),a}},{key:"changePattern",value:function(e,t){var a=JSON.parse(JSON.stringify(t));return a.pattern=e,a}},{key:"wordNumChange",value:function(e,t){if(e<1?e=1:e>9999&&(e=9999),e>0&&e<1e4){var a=JSON.parse(JSON.stringify(t));return a.words=e,a}return!1}},{key:"changeNewline",value:function(e,t){var a=JSON.parse(JSON.stringify(t));return a.newline=e,a}},{key:"changeDupes",value:function(e,t){var a=JSON.parse(JSON.stringify(t));return a.filterdupes=e,a}},{key:"checkErrors",value:function(e){for(var t=[],a=function(e){for(var t=[],a=0;a<e.length;a++)Ue.includes(e[a])&&t.push(e[a]);return Array.from(new Set(t))},n=function t(n,s){var r=function(t){for(var a="",n=0;n<e.subpatterns.length;n++)if(e.subpatterns[n].selected===t){a=e.subpatterns[n].subpattern;break}return a}(n),o=a(r),l=!1;if(o.length>0)if(o.includes(n)||s.includes(n))l=!0;else{var i=0;for(s.push(n);!l&&i<o.length;)l=t(o[i],s),i++}return l},s=0;s<e.subpatterns.length;s++){var r=a(e.subpatterns[s].subpattern),o=[];if(r.length>0)for(var l=0;l<r.length;l++)if(n(r[l],o)){t.push("The Subpatterns contain a circular reference.");break}}for(var i=[],c=0;c<e.subpatterns.length;c++)for(var u=e.subpatterns[c].selected,d=0;d<e.subpatterns.length;d++)c!==d&&e.subpatterns[d].selected===u&&i.push(u);var m=(i=Array.from(new Set(i))).join(", ");i.length>1?t.push("Some Subpattern variables (".concat(m,") have been used multiple times.")):1===i.length&&t.push("The Subpattern variable ".concat(m," has been used multiple times."));for(var h=[],p=0;p<e.subpatterns.length;p++)h.push(e.subpatterns[p].selected);for(var g=[],f=0;f<e.pattern.length;f++)Ue.includes(e.pattern[f])&&(h.includes(e.pattern[f])||g.push(e.pattern[f]));for(var b=0;b<e.subpatterns.length;b++)for(var v=0;v<e.subpatterns[b].subpattern.length;v++)Ue.includes(e.subpatterns[b].subpattern[v])&&(h.includes(e.subpatterns[b].subpattern[v])||g.push(e.subpatterns[b].subpattern[v]));var y=Array.from(new Set(g)),E=y.join(", ");return y.length>1?t.push("Some capital A\u2013Z letters (".concat(E,") were used but not defined as variables. If your intention is to include these characters as a letter in the results, a future version will allow this using escaped characters.")):1===y.length&&t.push("The capital letter ".concat(E," was used but not defined as a variable. If your intention is to include this character as a letter in the results, a future version will allow this using escaped characters.")),t=Array.from(new Set(t))}},{key:"generate",value:function(e){var t=this.checkErrors(e);return t.length>0?{status:t,results:[],stats:{words:0,maxWords:0,filtered:0,remaining:0}}:this.build(e,["ok"])}},{key:"build",value:function(e,t){for(var a=[],n=JSON.parse(JSON.stringify(e)),s=function(e){return Math.floor(Math.random()*e)},r=function e(t,a){var n="";if(Ue.includes(a)){var r=function(e,t){for(var a=[],n=0;n<e.length;n++)if(e[n].selected===t){a=e[n].subpattern;break}return a}(t,a),l=r[s(r.length)];n=Ue.includes(l)?e(t,l):l}else n=a;return n.length>1&&(n=o(t,n)),n},o=function(e,t){for(var a="",n=0;n<t.length;n++)/[()[\]^*"]/.test(t[n])||(a+=r(e,t[n]));return a},l=0;l<n.subpatterns.length;l++)n.subpatterns[l].subpattern=n.subpatterns[l].subpattern.split("/");for(var i=n.pattern.split("/"),c=0;c<n.words;c++){var u="",d=i[s(i.length)];u+=o(n.subpatterns,d),a.push(u)}for(var m=0,h=0;h<i.length;h++){var p=1;if(0===i[h].length){p=0;break}for(var g=0;g<i[h].length;g++){var f=i[h][g],b=0,v=1;if(!/[()[\]^*"]/.test(f)){if(Ue.includes(f))for(var y=0;y<n.subpatterns.length;y++){var E=n.subpatterns[y];if(E.selected===f){v*=E.subpattern.length;break}}else b+=1;p*=v,p+=b}}m+=p}var w=0;0!==a[0].length&&(w=a.length);var k=Array.from(new Set(a)).length;return{status:t,results:a,stats:{words:w,maxWords:m,filtered:n.words-k,remaining:k}}}},{key:"save",value:function(e){this.setStorage(e),window.File?qe.saveFile(e,this.item):l.toast.info("Your browser is unable to save files. The data has been saved to your browser\u2019s local storage.",{autoClose:5e3,className:"toast-unsaved",bodyClassName:"toast-unsaved-body",progressClassName:"toast-unsaved-progress"})}},{key:"open",value:function(e,t){var a,n=this;window.FileReader?qe.openFile(e,function(s){if(e.name.endsWith(".lngg")){var r=Fe()({selected:/[A-Z]/,subpattern:String}),o=Fe()({subpatterns:Array.of(1,24,r),pattern:String,words:Number.min(1).max(9999),newline:Boolean,filterdupes:Boolean}),i=JSON.parse(s);i.words=parseInt(i.words,10),o(i)?(l.toast.success("Data loaded from ".concat(e.name,"."),{autoClose:5e3,className:"toast-opened",bodyClassName:"toast-opened-body",progressClassName:"toast-opened-progress"}),n.setStorage(i),a=i):(l.toast.info("The content of ".concat(e.name," is invalid."),{autoClose:5e3,className:"toast-unopened",bodyClassName:"toast-unopened-body",progressClassName:"toast-unopened-progress"}),console.error(o.errors(i)),a=!1)}else l.toast.info("Wrong filetype selected.",{autoClose:5e3,className:"toast-unopened",bodyClassName:"toast-unopened-body",progressClassName:"toast-unopened-progress"}),a=!1;t(a)}):(l.toast.info("Your browser is unable to open files.",{autoClose:5e3,className:"toast-unopened",bodyClassName:"toast-unopened-body",progressClassName:"toast-unopened-progress"}),t(a=!1))}}]),e}()),Ke={duplicate:{outline:{width:1,style:"solid",color:z.string()}},subpsRow:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"baseline",alignContent:"space-between"},addingRow:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"baseline",alignContent:"space-between",padding:{top:1,right:0,bottom:1,left:0},margin:{top:1,right:0,bottom:1,left:0}},patternInput:{width:"100%",padding:1,margin:{top:1,right:0,bottom:1,left:0}},wordsInput:{width:"".concat(O,"rem")},outText:{whiteSpace:"pre-wrap"}},Ze=void 0;String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>Ze.length)&&(t=Ze.length),Ze.substring(t-e.length,t)===e});var Xe=function(e){function t(e){var a;return Object(ye.a)(this,t),(a=Object(we.a)(this,Object(ke.a)(t).call(this,e))).onChangeInput=a.onChangeInput.bind(Object(Ce.a)(Object(Ce.a)(a))),a.classes=e.classes,a.state={data:Qe.getData(),status:["ok"],results:[""],stats:{words:0,maxWords:0,filtered:0,remaining:0}},a}return Object(Ne.a)(t,e),Object(Ee.a)(t,[{key:"onChangeInput",value:function(e){var t=this;if("BUTTON"===e.target.tagName){if(e.preventDefault(),"submit"===e.target.type){var a=Qe.generate(this.state.data);this.setState(function(e){return{status:a.status,results:a.results,stats:a.stats}}),Qe.setStorage(this.state.data)}else if("button"===e.target.type)if("save"===e.target.id)Qe.save(this.state.data);else if("add"===e.target.id)this.setState(function(e){return{data:Qe.add(t.state.data)}});else if("c"===e.target.id.slice(0,1)){var n=e.target.id.slice(1);this.setState(function(e){return{data:Qe.clear(n,t.state.data)}})}}else if("file"===e.target.type){e.preventDefault();var s=e.target.files[0];Qe.open(s,function(e){e&&t.setState(function(t){return{data:e}})})}else if("checkbox"===e.target.type){var r=e.target.checked;"newline"===e.target.id?this.setState(function(e){return{data:Qe.changeNewline(r,t.state.data)}}):"filterdupes"===e.target.id&&this.setState(function(e){return{data:Qe.changeDupes(r,t.state.data)}})}else{var o=e.target.value;if("pattern"===e.target.id)this.setState(function(e){return{data:Qe.changePattern(o,t.state.data)}});else if("words"===e.target.id){var l=Qe.wordNumChange(o,this.state.data);l&&this.setState(function(e){return{data:l}})}else{var i=e.target.id.slice(1),c=e.target.id.slice(0,1);"v"===c?this.setState(function(e){return{data:Qe.changeSelect(i,o,t.state.data)}}):"p"===c&&this.setState(function(e){return{data:Qe.changeSubpattern(i,o,t.state.data)}})}}}},{key:"render",value:function(){var e=this.classes,t=this.state;return s.a.createElement("div",{className:e.gen},s.a.createElement(R.Helmet,null,s.a.createElement("title",null,ft," Gen"),s.a.createElement("meta",{name:"description",content:"LanguaGen is a tool for automatically building a set of words based on arbitrary rules of phonotactics. This can be used to create a dummy vocabulary for linguistic experimentation, to generate words or names for a naming language in a work of fantasy or science fiction, or as the basis for building the vocabulary of a constructed language."}),s.a.createElement("link",{rel:"canonical",href:"".concat(gt,"gen/")})),s.a.createElement(se,{route:"/gen/help"},"Help"),s.a.createElement("h2",{className:"toolTitle"},"LanguaGen"),s.a.createElement(Ye,{styles:this.props.classes,data:t.data,change:this.onChangeInput}),s.a.createElement(_e,{styles:this.props.classes,newLine:t.data.newline,filterDupes:t.data.filterdupes,status:t.status,results:t.results,stats:t.stats}))}}]),t}(s.a.Component),$e=m()(Ke)(Xe),et=function(e){return s.a.createElement(fe,{toolTitle:"Gen",toolDescription:"Langua".concat("Gen"," is a tool for automatically building a set of words based on arbitrary rules of phonotactics. This can be used to create a dummy vocabulary for linguistic experimentation, to generate words or names for a naming language in a work of fantasy or science fiction, or as the basis for building the vocabulary of a constructed language."),link:"gen"},s.a.createElement("h3",{id:"using"},"Using Langua","Gen"),s.a.createElement("p",null,"The most important part of the tool is the ",s.a.createElement("strong",null,"Pattern"),". This field defines how words will be formed using a specific syntax, defined"," ",s.a.createElement("a",{href:"#syntax"},"below"),". This field can define specific letters that can be used, or it can contain references to Subpatterns."),s.a.createElement("p",null,"Up to 26 ",s.a.createElement("strong",null,"Subpatterns")," are available for use. These subpatterns are defined in exactly the same way as the Pattern. Their power lies in the fact that each Subpattern can be referenced by the Pattern, allowing significantly more variability in word generation."),s.a.createElement("p",null,"In the most common usage, a Subpattern generally represents a class of phonemes while the Pattern represents the possible combinations of all the phoneme classes. For example, one might use a Subpattern named"," ",s.a.createElement("code",null,"V")," to represent vowels, ",s.a.createElement("code",null,"C")," to represent consonants, and ",s.a.createElement("code",null,"N")," to represent nasals. Alternatively, one might use a Subpattern named ",s.a.createElement("code",null,"O")," to represent the syllable onset, ",s.a.createElement("code",null,"N")," to represent the nucleus, and ",s.a.createElement("code",null,"C")," to represent the coda. There is great flexibility in Subpattern use."),s.a.createElement("h4",{id:"syntax"},"Syntax"),s.a.createElement("p",null,"The syntax is identical for all Pattern and Subpattern fields. Uppercase versions of the standard English letters (e.g. ",s.a.createElement("code",null,"C"),","," ",s.a.createElement("code",null,"V"),", or ",s.a.createElement("code",null,"N"),") are variables referring to Subpatterns while any other letter (e.g. ",s.a.createElement("code",null,"a"),", ",s.a.createElement("code",null,"s"),", or"," ",s.a.createElement("code",null,"n"),") represents that specific glyph."),s.a.createElement("h5",{id:"options"},"Options \u2013 ",s.a.createElement("code",null,"/")),s.a.createElement("p",null,"Multiple options can be separated using forward slashes (",s.a.createElement("code",null,"/"),"). For each word, the tool will randomly select one of the options. By default, each option will have the same chance of being chosen. This can be changed by assigning ",s.a.createElement("a",{href:"#weights"},"weights"),". For example, with the Subpatterns ",s.a.createElement("code",null,"V: a/i"),", ",s.a.createElement("code",null,"C: t/s"),", and"," ",s.a.createElement("code",null,"N: m/n")," and the Pattern ",s.a.createElement("code",null,"CVN"),", the tool will output the words ",s.a.createElement("samp",null,"sam tan tam tin sim san tim sin"),"."),s.a.createElement("h5",{id:"units"},"Single Units \u2013 ",s.a.createElement("code",null,"[ ]")),s.a.createElement(ee,null,"This functionality has not yet been implemented."),s.a.createElement("p",null,"Everything contained within brackets (",s.a.createElement("code",null,"[ ]"),") is treated as a single unit. For example, the Pattern ",s.a.createElement("code",null,"as[tu/top/kan]")," will produce the output ",s.a.createElement("code",null,"astu astop askan"),". Brackets and parentheses can be nested unlimitedly."),s.a.createElement("h5",{id:"optional"},"Optional Units \u2013 ",s.a.createElement("code",null,"( )")),s.a.createElement(ee,null,"This functionality has not yet been implemented."),s.a.createElement("p",null,"Everything contained within parentheses (",s.a.createElement("code",null,"( )"),") is treated as a single unit that is optional. For example, the Pattern"," ",s.a.createElement("code",null,"as(tu/top/kan)")," will produce the output"," ",s.a.createElement("code",null,"as astu astop askan"),". Parentheses and brackets can be nested unlimitedly."),s.a.createElement("h5",{id:"weights"},"Weights \u2013 ",s.a.createElement("code",null,"*")),s.a.createElement(ee,null,"This functionality has not yet been implemented."),s.a.createElement("p",null,"Weights can be added to certain choices using an asterisk ",s.a.createElement("code",null,"*")," ","and a number to improve the likelihood of it being chosen. For example, with the pattern ",s.a.createElement("code",null,"a/e*3/i*2/o/u*5"),", the tool would output"," ",s.a.createElement("code",null,"a")," or ",s.a.createElement("code",null,"o")," with equal probability, but compared to these would be twice as likely to output ",s.a.createElement("code",null,"i"),", three times as likely to output ",s.a.createElement("code",null,"e"),", and five times as likely to output"," ",s.a.createElement("code",null,"u"),". The number used as a weight must be an integer between 1 and 128."),s.a.createElement("h5",{id:"filtering"},"Filtering \u2013 ",s.a.createElement("code",null,"^")),s.a.createElement(ee,null,"This functionality has not yet been implemented."),s.a.createElement("p",null,"Filtering can be added to units using a caret ",s.a.createElement("code",null,"^")," and a potential output to restrict the possible results. Multiple filters can be added to the same unit to filter out multiple options. For example, with the Subpattern ",s.a.createElement("code",null,"V: a/i/u")," and hte Pattern"," ",s.a.createElement("code",null,"t[VV]^aa^ii^uu"),", the tool will output"," ",s.a.createElement("code",null,"tai tau tia tiu tua tui"),", filtering out"," ",s.a.createElement("code",null,"taa tii tuu"),"."),s.a.createElement("h5",{id:"escaping"},"Esaping Characters \u2013 ",s.a.createElement("code",null,'" "')),s.a.createElement(ee,null,"This functionality has not yet been implemented."),s.a.createElement("p",null,"Special characters otherwise used for the tool\u2019s syntax can be escaped using double quotes ",s.a.createElement("code",null,'" "'),". For example, with the Subpattern ",s.a.createElement("code",null,"V: a/i/u")," and the Pattern"," ",s.a.createElement("code",null,'Vt"V[n/m]"'),", the tool will produce the output"," ",s.a.createElement("code",null,"atV[n/m] itV[n/m] utV[n/m]"),"."),s.a.createElement("h4",{id:"generating"},"Generating Words"),s.a.createElement("p",null,"Once the Pattern and all Subpatterns have been set up, you can click the"," ",s.a.createElement("strong",null,"Generate")," button to generate words. There are also several adjustments you can make, including the total number of words that should be generated, whether each word should be written on a new line, and whether the tool should filter out duplicate words."),s.a.createElement("p",null,"After the words have been generated, some statistics are shown below, including how many words were printed to the output, how many duplicates were filtered out of the results (if any), and how many words are possible based on the given Pattern and Subpatterns. (Note that the number of"," ",s.a.createElement("em",null,"unique")," words possible may actually be lower if there are multiple ways to obtain the same word.)"),s.a.createElement("h4",{id:"files"},"Saving and Loading Settings"),s.a.createElement("p",null,"Clicking the ",s.a.createElement("strong",null,"Save")," button will save the current settings to the browser\u2019s local storage and generate a small ",s.a.createElement("code",null,".lngg")," ","text file containing the current settings that can be saved to your disk. This ",s.a.createElement("code",null,".lngg")," file can be loaded using the ",s.a.createElement("strong",null,"Open")," ","button to reload saved settings."),s.a.createElement("h3",{id:"acknowledgments"},"Acknowledgments"),s.a.createElement("p",null,"Much thanks should be given to Petr Mejzl\xedk and"," ",s.a.createElement("a",{href:"https://github.com/nai888/awkwords",target:"_blank",rel:"noopener noreferrer"},"Awkwords"),". LanguaGen was mainly built as a modernized and updated version of Awkwords."))},tt=m()(le)(function(e){return s.a.createElement(oe,null)}),at=m()(de)(function(e){return s.a.createElement(ue,null)}),nt={},st=m()(nt)(function(e){return s.a.createElement("div",{className:e.classes.morph},s.a.createElement(R.Helmet,null,s.a.createElement("title",null,ft," Morph"),s.a.createElement("meta",{name:"description",content:"LanguaMorph is a tool for modeling historical sound change according to arbitrary rules of phonetic change. It can also be used to reverse historical sound change according to those same rules in order to guess at a word\u2019s proto-language roots."}),s.a.createElement("link",{rel:"canonical",href:"".concat(gt,"morph/")})),s.a.createElement(se,{route:"/morph/help"},"Help"),s.a.createElement("h2",{className:"toolTitle"},"LanguaMorph"),s.a.createElement(ee,null,"This tool is still in planning."),s.a.createElement(tt,{styles:e.classes}),s.a.createElement(at,{styles:e.classes}))}),rt=function(e){return s.a.createElement(fe,{toolTitle:"Morph",toolDescription:"Langua".concat("Morph"," is a tool for modeling historical sound change according to arbitrary rules of phonetic change. It can also be used to reverse historical sound change according to those same rules in order to guess at a word\u2019s proto-language roots."),link:"morph"},s.a.createElement(ee,null,"This tool is still in planning."))},ot=m()(le)(function(e){return s.a.createElement(oe,null)}),lt=m()(de)(function(e){return s.a.createElement(ue,null)}),it={},ct=m()(it)(function(e){return s.a.createElement("div",{className:e.classes.tree},s.a.createElement(R.Helmet,null,s.a.createElement("title",null,ft," Tree"),s.a.createElement("meta",{name:"description",content:"LanguaTree is a tool for drawing and labeling syntax trees."}),s.a.createElement("link",{rel:"canonical",href:"".concat(gt,"tree/")})),s.a.createElement(se,{route:"/tree/help"},"Help"),s.a.createElement("h2",{className:"toolTitle"},"LanguaTree"),s.a.createElement(ee,null,"This tool is still in planning."),s.a.createElement(ot,{styles:e.classes}),s.a.createElement(lt,{styles:e.classes}))}),ut=function(e){return s.a.createElement(fe,{toolTitle:"Tree",toolDescription:"Langua".concat("Tree"," is a tool for drawing and labeling syntax trees."),link:"tree"},s.a.createElement(ee,null,"This tool is still in planning."))},dt={main:{minHeight:"".concat(10*T,"rem"),padding:{top:"".concat(2*T,"rem"),right:0,bottom:"".concat(2*T,"rem"),left:0}}},mt=m()(dt)(function(e){return s.a.createElement("main",null,s.a.createElement("div",{className:e.classes.main},s.a.createElement(Q.a,null,s.a.createElement(K.a,{path:"/deriv/help",component:be}),s.a.createElement(K.a,{path:"/deriv/",component:pe}),s.a.createElement(K.a,{path:"/frequen/help",component:Ge}),s.a.createElement(K.a,{path:"/frequen",component:Be}),s.a.createElement(K.a,{path:"/gen/help",component:et}),s.a.createElement(K.a,{path:"/gen",component:$e}),s.a.createElement(K.a,{path:"/morph/help",component:rt}),s.a.createElement(K.a,{path:"/morph",component:st}),s.a.createElement(K.a,{path:"/tree/help",component:ut}),s.a.createElement(K.a,{path:"/tree",component:ct}),s.a.createElement(K.a,{path:"/",component:$}))),s.a.createElement(l.ToastContainer,{draggablePercent:60,position:l.toast.POSITION.BOTTOM_CENTER,transition:l.Flip}))}),ht={footer:{textAlign:"center",borderTop:{width:1,style:"solid",color:I.darken(.15).string()},padding:{top:"".concat(2*T,"rem"),right:0,bottom:"".concat(2*T,"rem"),left:0},"& a, & a:link, & a:visited, & a:hover, & a:active":{textDecoration:"none"}}},pt=m()(ht)(function(e){var t="https://github.com/nai888/langua";return s.a.createElement("footer",null,s.a.createElement("div",{className:e.classes.footer},s.a.createElement("p",{className:e.classes.copyright},s.a.createElement("a",{href:t+"/blob/master/CHANGELOG.md",target:"_blank",rel:"noopener noreferrer"},"Version ",s.a.createElement("i",{className:"fas fa-code"})," ","0.2.3"),". Built by"," ",s.a.createElement("a",{href:"https://github.com/nai888",target:"_blank",rel:"noopener noreferrer"},"Ian A. Cook"),", copyright ",s.a.createElement("i",{className:"far fa-copyright"})," ",function(){var e=(new Date).getFullYear();return e>2017?"".concat(2017,"\u2013").concat(e):2017..toString()}()," ","under the"," ",s.a.createElement("a",{href:"https://choosealicense.com/licenses/agpl-3.0/",target:"_blank",rel:"noopener noreferrer"},"AGPL-3.0 ",s.a.createElement("i",{className:"fas fa-gavel"})," license"),"."),s.a.createElement("p",{className:e.classes.links},s.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},"View this project on ",s.a.createElement("i",{className:"fab fa-github"})," GitHub")," ","or"," ",s.a.createElement("a",{href:"https://beerpay.io/nai888/langua",target:"_blank",rel:"noopener noreferrer"},"buy ","Ian A. Cook"," a ",s.a.createElement("i",{className:"fas fa-beer"})," beer"),".")))}),gt="https://nai888.github.io/langua/",ft="Langua |",bt=m()(W)(function(e){return s.a.createElement("div",{className:e.classes.app},s.a.createElement(R.Helmet,null,s.a.createElement("title",null,ft," Language Tools"),s.a.createElement("meta",{charSet:"utf-8"}),s.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"}),s.a.createElement("meta",{name:"author",content:"Ian A. Cook"}),s.a.createElement("meta",{name:"description",content:"Langua is a suite of language tools that can be used for testing, experimentation, learning, analysis, or creation."}),s.a.createElement("meta",{name:"theme-color",content:I.string()}),s.a.createElement("link",{rel:"canonical",href:gt}),s.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Noto+Sans:400,400i,700,700i|Noto+Serif:400,400i,700,700i&subset=greek,greek-ext,latin-ext",rel:"stylesheet"}),s.a.createElement("script",{defer:!0,src:"https://use.fontawesome.com/releases/v5.0.10/js/all.js",integrity:"sha384-slN8GvtUJGnv6ca26v8EzVaR9DC58QEwsIk9q1QXdCU8Yu8ck/tL/5szYlBbqmS+",crossOrigin:"anonymous"})),s.a.createElement(_,null),s.a.createElement(mt,null),s.a.createElement(pt,null))}),vt=m()(V)(function(){return s.a.createElement(u.a,{basename:"/langua"},s.a.createElement(bt,null))}),yt=document.getElementById("root");yt.hasChildNodes()?o.a.hydrate(s.a.createElement(vt,null),yt):o.a.render(s.a.createElement(vt,null),yt),function(){if("serviceWorker"in navigator){if(new URL("/langua",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/langua","/service-worker.js");i?(function(e){window.fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):c(e)}).catch(function(){l.toast.info("No internet connection found; Langua is running in offline mode.",{autoClose:5e3,className:"toast-offline",bodyClassName:"toast-offline-body",progressClassName:"toast-offline-progress"}),console.log("No internet connection found; Langua is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){l.toast.info("Langua is up-to-date and loading from your cache.",{autoClose:3e3,className:"toast-cached",bodyClassName:"toast-cached-body",progressClassName:"toast-cached-progress"}),console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):c(e)})}}()}},[[134,2,1]]]);
//# sourceMappingURL=main.832dff95.chunk.js.map